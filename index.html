<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://pandaoknight.github.io/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.1.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://pandaoknight.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-sln-leetcode-next-greater-node-in-linked-list" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/sln-leetcode-next-greater-node-in-linked-list/" class="article-date">
  <time class="dt-published" datetime="2022-04-01T09:53:27.000Z" itemprop="datePublished">2022-04-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/sln-leetcode-next-greater-node-in-linked-list/">链表中的下一个更大节点·力扣题解</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="核心算法讨论"><a href="#核心算法讨论" class="headerlink" title="核心算法讨论"></a>核心算法讨论</h2><h3 id="为什么单调栈是一个O-n-而非O-n²-？"><a href="#为什么单调栈是一个O-n-而非O-n²-？" class="headerlink" title="为什么单调栈是一个O(n)而非O(n²)？"></a>为什么单调栈是一个O(n)而非O(n²)？</h3><p>在构筑单调栈的时候，一个元素它至多要弹n下栈，一共n个元素，应该 n方。<br>但如果从整体来看，因为你一共只压了n次进去。所以，弹栈的总数是不会超过n的。因此是O(n)。</p>
<h2 id="视频总结"><a href="#视频总结" class="headerlink" title="视频总结"></a>视频总结</h2><h3 id="视频录制过长"><a href="#视频录制过长" class="headerlink" title="视频录制过长"></a>视频录制过长</h3><p>又想讲3个思路。<br>又想讲3次迭代。<br>又想讲2种栈的表示。<br>最后录了一个40分钟的视频出来，前面写逐字稿写了5000+字。录视频草稿1遍，正录2遍。完全没有必要。必要想办法在录制阶段更高产。</p>
<p>之后手稿只保留“段、节、脚本”，不保留具体的内容。正录就录1遍。</p>
<h3 id="视频过程，必然剪得过碎"><a href="#视频过程，必然剪得过碎" class="headerlink" title="视频过程，必然剪得过碎"></a>视频过程，必然剪得过碎</h3><p>语言的流程度，是这次影响剪切的最大障碍！<br>干的最多的事情就是：把剪切点和我说话的时间对齐，然后把我的啊、哦、额、嗯、咳咳剪掉。</p>
<p>这40分钟剪了我整整6个小时。<br>要改思路：</p>
<ol>
<li>争取一口气一段录完，除非你有一些能说话做裁剪的软件。</li>
<li>实际上，我们是要对同一句话，从多个版本里面挑的，但我现在还没有工具。</li>
<li>3~5句话内逻辑连贯非常重要，但没必要写逐字稿。因为念稿，没有你自然的大脑输出表现力强。</li>
</ol>
<h3 id="这个视频应该突出其最精彩的部分"><a href="#这个视频应该突出其最精彩的部分" class="headerlink" title="这个视频应该突出其最精彩的部分"></a>这个视频应该突出其最精彩的部分</h3><p>最精彩的是下面这段代码，用3行替代了原来9行的代码。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for i:=len(ret)-1; i&gt;=0; i--  &#123;  // 迭代3行</span><br><span class="line">    for ;sc &gt; 0 &amp;&amp; ret[i] &gt;= stack[sc]; sc-- &#123;&#125; // 弹栈</span><br><span class="line">    stack[sc+1], sc, ret[i] = ret[i], sc+1, stack[sc]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>那么，何不录一个10到15分钟的视频，剪到7到10分钟呢？<br>就讲这个精彩的部分，不用将那么多的思路、优化的小点。</p>
<h3 id="后续还能优化什么？"><a href="#后续还能优化什么？" class="headerlink" title="后续还能优化什么？"></a>后续还能优化什么？</h3><p>明确能做：</p>
<ol>
<li>不要在录的时候写字，这个太费时间，你肯定要剪很多下。使用“预制件”，或后期来加都行。脚本想好了就能做到。<br>可能可以做到：</li>
<li>找到一个能把一段视频中我的话按时间拆出来的软件，满足我后期要对一句话、一段话，挑多个版本，对齐时间的需求。</li>
<li>录屏、录音分离</li>
</ol>
<h2 id="迭代过程"><a href="#迭代过程" class="headerlink" title="迭代过程"></a>迭代过程</h2><h3 id="初始算法"><a href="#初始算法" class="headerlink" title="初始算法"></a>初始算法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">func nextLargerNodes(head *ListNode) []int &#123;</span><br><span class="line">    var prev *ListNode// 翻转4行</span><br><span class="line">    for head != nil &#123;</span><br><span class="line">        head.Next, prev, head = prev, head, head.Next</span><br><span class="line">    &#125;</span><br><span class="line">    stack,ret := make([]int, 0), make([]int, 0)</span><br><span class="line">    for cur:=prev; cur!=nil; cur=cur.Next &#123;</span><br><span class="line">        for len(stack) &gt; 0 &amp;&amp; cur.Val &gt;= stack[len(stack)-1] &#123; // 弹栈</span><br><span class="line">            stack = stack[:len(stack)-1]</span><br><span class="line">        &#125;</span><br><span class="line">        if len(stack) == 0 &#123;</span><br><span class="line">            ret = append([]int&#123;0&#125;, ret...)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            ret = append([]int&#123;stack[len(stack)-1]&#125;, ret...)</span><br><span class="line">        &#125;</span><br><span class="line">        // fmt.Printf(&quot;cur.Val:%d stack:%+v ret:%+v\n&quot;, cur.Val, stack, ret)</span><br><span class="line">        stack = append(stack, cur.Val) // 压栈</span><br><span class="line">    &#125;</span><br><span class="line">    return ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="迭代一：非翻转改造"><a href="#迭代一：非翻转改造" class="headerlink" title="迭代一：非翻转改造"></a>迭代一：非翻转改造</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">func nextLargerNodes(head *ListNode) []int &#123;</span><br><span class="line">    stack, ret := make([]int, 0, 10000), make([]int, 0, 10000) // 定义合并1行</span><br><span class="line">    for head != nil &#123; // 初始化2行，不建议合并</span><br><span class="line">        ret, head = append(ret, head.Val), head.Next</span><br><span class="line">    &#125;</span><br><span class="line">    for i:=len(ret)-1; i&gt;=0; i--  &#123;  // 9行</span><br><span class="line">        for len(stack) &gt; 0 &amp;&amp; ret[i] &gt;= stack[len(stack)-1] &#123; // 弹栈 2行</span><br><span class="line">            stack = stack[:len(stack)-1]</span><br><span class="line">        &#125;</span><br><span class="line">        tmp := ret[i] // 1行</span><br><span class="line">        if len(stack) == 0 &#123; //4行</span><br><span class="line">            ret[i] = 0</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            ret[i] = stack[len(stack)-1]</span><br><span class="line">        &#125;</span><br><span class="line">        // fmt.Printf(&quot;ret[i]:%d stack:%+v ret:%+v\n&quot;, ret[i], stack, ret)</span><br><span class="line">        stack = append(stack, tmp) // 压栈 1行</span><br><span class="line">    &#125;</span><br><span class="line">    return ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="迭代二：利用哨兵和栈的数组-游标表示来合并代码"><a href="#迭代二：利用哨兵和栈的数组-游标表示来合并代码" class="headerlink" title="迭代二：利用哨兵和栈的数组+游标表示来合并代码"></a>迭代二：利用哨兵和栈的数组+游标表示来合并代码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">func nextLargerNodes(head *ListNode) []int &#123;</span><br><span class="line">    stack, sc, ret := make([]int, 10000), 0, make([]int, 0, 10000) // 定义合并1行</span><br><span class="line">    for head != nil &#123; // 初始化2行，不建议合并</span><br><span class="line">        ret, head = append(ret, head.Val), head.Next</span><br><span class="line">    &#125;</span><br><span class="line">    for i:=len(ret)-1; i&gt;=0; i--  &#123;  // 迭代3行</span><br><span class="line">        for ;sc &gt; 0 &amp;&amp; ret[i] &gt;= stack[sc]; sc-- &#123;&#125; // 弹栈</span><br><span class="line">        stack[sc+1], sc, ret[i] = ret[i], sc+1, stack[sc]</span><br><span class="line">    &#125;</span><br><span class="line">    return ret // 返回1行</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://pandaoknight.github.io/sln-leetcode-next-greater-node-in-linked-list/" data-id="cl1g9enb70001x0tscsqxhju2" data-title="链表中的下一个更大节点·力扣题解" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/POS/" rel="tag">POS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sln-leetcode/" rel="tag">sln,leetcode</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-manuscript-sln-leetcode-next-greater-node-in-linked-list" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/manuscript-sln-leetcode-next-greater-node-in-linked-list/" class="article-date">
  <time class="dt-published" datetime="2022-03-31T12:47:40.000Z" itemprop="datePublished">2022-03-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/manuscript-sln-leetcode-next-greater-node-in-linked-list/">链表中的下一个更大节点·力扣题解手稿</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <!-- ## 逐字稿 -->
<!-- ![](/images/transcript.png)
![](/manuscript-sln-leetcode-next-greater-node-in-linked-list/transcript.png)
![](images/transcript.png)
![](transcript.png)
![](manuscript-sln-leetcode-next-greater-node-in-linked-list/transcript.png) -->
<img src="/manuscript-sln-leetcode-next-greater-node-in-linked-list/transcript.png" class="" title="逐字稿">
      
    </div>
    <footer class="article-footer">
      <a data-url="https://pandaoknight.github.io/manuscript-sln-leetcode-next-greater-node-in-linked-list/" data-id="cl1g9enb20000x0tsfwl72w7v" data-title="链表中的下一个更大节点·力扣题解手稿" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/POW/" rel="tag">POW</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/manuscript-sln-leetcode/" rel="tag">manuscript,sln,leetcode</a></li></ul>

    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/POS/" rel="tag">POS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/POW/" rel="tag">POW</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/manuscript-sln-leetcode/" rel="tag">manuscript,sln,leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sln-leetcode/" rel="tag">sln,leetcode</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/POS/" style="font-size: 10px;">POS</a> <a href="/tags/POW/" style="font-size: 10px;">POW</a> <a href="/tags/manuscript-sln-leetcode/" style="font-size: 10px;">manuscript,sln,leetcode</a> <a href="/tags/sln-leetcode/" style="font-size: 10px;">sln,leetcode</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/sln-leetcode-next-greater-node-in-linked-list/">链表中的下一个更大节点·力扣题解</a>
          </li>
        
          <li>
            <a href="/manuscript-sln-leetcode-next-greater-node-in-linked-list/">链表中的下一个更大节点·力扣题解手稿</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>